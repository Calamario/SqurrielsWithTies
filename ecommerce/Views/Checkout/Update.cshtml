@model ecommerce.Models.ViewModels.CheckoutViewModel

@{
    decimal total = 0;
    decimal subTotal = 0;
}

<h2>Checkout</h2>

<a asp-controller="Basket" asp-action="Index">Return To Basket</a>

@foreach (var item in Model.BasketItems)
{
    subTotal = 0;
    subTotal = item.Quantity * item.Product.Price;
    total += subTotal;
    <h3>@item.Product.Name</h3>
    <p>$@item.Product.Price</p>
    <p>Qty: @item.Quantity</p>
    <p>$@subTotal</p>
}

<p>Total: $@total</p>

<hr />

<form method="post" asp-controller="Checkout" asp-action="Review">
    <label asp-for="@Model.FirstName">First Name</label>
    <input asp-for="@Model.FirstName" />

    <label asp-for="@Model.LastName">Last Name</label>
    <input asp-for="@Model.LastName" />

    <label asp-for="@Model.Address1">Address</label>
    <input asp-for="@Model.Address1" />

    <label asp-for="@Model.Address2">Address 2</label>
    <input asp-for="@Model.Address2" />

    <label asp-for="@Model.City">City</label>
    <input asp-for="@Model.City" />

    <label asp-for="@Model.State">State</label>
    <input asp-for="@Model.State" />

    <label asp-for="@Model.ZipCode">Zip Code</label>
    <input asp-for="@Model.ZipCode" />

    <label asp-for="@Model.CreditCard">Credit Card</label>
    <input asp-for="@Model.CreditCard" />

    <button type="submit">Review</button>
</form>